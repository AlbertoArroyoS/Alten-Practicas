<br>
<div class="container ">
    <div class="row">
      <span>
        <a href="javascript:void(0)" (click)="recargarTablaLibros()">{{ title }}</a>
      </span>  
    </div>
      <!-- Inicio formulario de registro-->
  <div class="formularioRegistro">
    <h1 >Añadir un nuevo libro</h1>
    <form class="form-group" (ngSubmit)="guardarLibro()" [formGroup]="formularioLibro" *ngIf="botonNuevoLibroVisible">
      <div class="form-group">
        <label for="selectAutor">Autores que ya están en la base de datos</label>
        <select id="selectAutor" name="autor" formControlName="autor" class="form-control">
            <option disabled selected>Selecciona un autor</option>
            <option *ngFor="let item of autores" [ngValue]="item.nombre">{{ item.nombre }}</option>
        </select>
    </div>
        <div class="row mt-3">
            <div>
            <input type="text" class="form-control" formControlName="titulo" placeholder="Título" aria-label="Titulo">
            <p *ngIf="formularioLibro.get('titulo')?.errors?.['required']" class="text-danger">El campo nombre es requerido</p>
            </div>
            <div>
                <select class="form-select form-select-sm" aria-label="Small select example" placeholder="Genero">
                    <option disabled selected>Selecciona un género</option>
                    <option value="1">Fantasía</option>
                    <option value="2">Infantil</option>
                    <option value="3">Poesía</option>
                    <option value="4">Ciencia ficción</option>
                    <option value="5">Misterio</option>
                    <option value="6">Romance</option>
                    <option value="7">Otros</option>
                </select>
                <p *ngIf="formularioLibro.get('genero')?.errors?.['required']" class="text-danger">El campo genero es requerido</p>
                <input type="number" class="form-control" formControlName="paginas" placeholder="Páginas" aria-label="Paginas">
                <p *ngIf="formularioLibro.get('paginas')?.errors?.['required']" class="text-danger">El campo páginas es requerido</p>
            </div>
            <div >
                <input type="text" class="form-control" formControlName="editorial" placeholder="Editorial" aria-label="Editorial">
                <p *ngIf="formularioLibro.get('editorial')?.errors?.['required']" class="text-danger">El campo editorial es requerido</p>
            </div>
            <div>
                <textarea class="form-control" formControlName="descripcion" placeholder="Descripción" aria-label="Descripcion"></textarea>
            </div>
        </div>

        <div class="mt-3">
        <button type="submit" class="btn btn-primary">Añadir libro</button>
        </div>
    </form>
</div>
  <!-- Fin formulario de registro -->
    <br>
    <div>
      <div class="input-group mb-3">
        <input #keywordInput type="text" class="form-control" placeholder="Buscar..." aria-label="Buscar" aria-describedby="basic-addon2">
        <div class="input-group-append">
          <button (click)="buscarLibros(keywordInput.value)" class="btn btn-outline-secondary" type="button">Buscar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="EncabezadoTabla">
      <h1>Tabla de libros</h1>
      <button (click)="botonNuevoLibro()" type="button" class="btn btn-dark">
        Nuevo autor
      </button>
    </div>
    <div class="tablaLibros">
      <table class="table table-primary table-hover shadow">
          <thead>
            <tr class="table-success">
              <th scope="col">id</th>
              <th scope="col">Título</th>
              <th scope="col">Nombre autor</th>
              <th scope="col">Apellidos autor</th>
              <th scope="col">Género</th>
              <th scope="col">Páginas</th>
              <th scope="col">Editorial</th>
              <th scope="col">Descripción</th>
              <th scope="col">Opción</th>
          
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of tableData">
              <th scope="row">{{ item.id }}</th>
              <td>{{item.titulo}}</td>
              <td>{{item.nombreAutor}}</td>
              <td>{{item.apellidosAutor}}</td>
              <td>{{item.genero}}</td>
              <td>{{item.paginas}}</td>
              <td>{{item.editorial}}</td>
              <td>{{item.descripcion}}</td>
              <td class="acciones">
                <button
                  (click)="obtenerLibroPorId(item.id)"
                  type="button"
                  class="btn btn-success"
                >
                  Ver libro
                </button>
                <button
                  (click)="editarLibro(item)"
                  type="button"
                  class="btn btn-warning"
                >
                  Editar autor
                </button>
                <button
                  (click)="eliminarLibro(item)"
                  type="button"
                  class="btn btn-danger"
                >
                  Eliminar autor
                </button>
              </td>
            </tr>
          </tbody>
      </table>

  </div>
  
      <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">Anterior</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Siguiente</a></li>
          </ul>
        </nav>
  </div>