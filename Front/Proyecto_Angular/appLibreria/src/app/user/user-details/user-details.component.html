<p>user-details works!</p>
<p *ngIf="!userLoginOn">Usuario NO autenticado-user-details</p>
<p *ngIf="userLoginOn">Usuario Autenticado-user-details</p>
<div *ngIf="userLoginOn && userData?.role === 'USER'">
    <p>Username: {{userData.username}}</p>
    <p>ID Usuario: {{userData.idUsuario}}</p>
    <p>Nombre: {{userData.nombre}}</p>
    <p>Apellido: {{userData.apellidos}}</p>  
    <p>Email: {{userData.email}}</p>   
    <p>Enabled: {{userData.enabled}}</p>
    <p>Role: {{userData.role}}</p>
    <p>ID Cliente: {{userData.idCliente}}</p>
    <p>ID Librería: {{userData.idLibreria}}</p>
    <p>Nombre Librería: {{userData.nombreLibreria}}</p>
    <p>Nombre Dueño: {{userData.nombreDueno}}</p>
    <p>Dirección: {{userData.direccion}}</p>
    <p>Ciudad: {{userData.ciudad}}</p>
    <button *ngIf="userLoginOn && !editMode" (click)="editMode=true"  class="btn btn-dark"><img
        src="https://cdn.icon-icons.com/icons2/1572/PNG/96/3592815-compose-create-edit-edit-file-office-pencil-writing_107734.png"
        width="8%" alt="editar" />Editar Datos Personales</button>
</div>

<div *ngIf="userLoginOn && userData?.role === 'ADMIN'">
    <p>Username: {{userData.username}}</p>
    <p>ID Usuario: {{userData.idUsuario}}</p>
    <p>Enabled: {{userData.enabled}}</p>
    <p>Role: {{userData.role}}</p>
</div>

<div *ngIf="userLoginOn && userData?.role === 'USER'">

    <form *ngIf="userLoginOn && editMode" [formGroup]="formularioUsuario">
        <div class="form-group row">
          <label for="inputUsername" class="col-sm-1 col-form-label">Username</label>
          <div class="col-sm-11">
            <input type="text" formControlName="username" class="form-control" id="inputUsername">
            <div *ngIf="formularioUsuario.controls['username'].invalid && (formularioUsuario.controls['username'].dirty || formularioUsuario.controls['username'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['username'].errors?.['required']">
                El Username es requerido.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="inputNombre" class="col-sm-1 col-form-label">Nombre</label>
          <div class="col-sm-11">
            <input type="text" formControlName="nombre" class="form-control" id="inputNombre">
            <div *ngIf="formularioUsuario.controls['nombre'].invalid && (formularioUsuario.controls['nombre'].dirty || formularioUsuario.controls['nombre'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['nombre'].errors?.['required']">
                El Nombre es requerido.
              </div>
            </div>
          </div>
        </div>
      
        <div class="form-group row">
          <label for="inputApellidos" class="col-sm-1 col-form-label">Apellidos</label>
          <div class="col-sm-11">
            <input type="text" formControlName="apellidos" class="form-control" id="inputApellidos">
            <div *ngIf="formularioUsuario.controls['apellidos'].invalid && (formularioUsuario.controls['apellidos'].dirty || formularioUsuario.controls['apellidos'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['apellidos'].errors?.['required']">
                El Apellido es requerido.
              </div>
            </div>
          </div>
        </div>
      
        <div class="form-group row">
          <label for="inputEmail" class="col-sm-1 col-form-label">Email</label>
          <div class="col-sm-11">
            <input type="email" formControlName="email" class="form-control" id="inputEmail">
            <div *ngIf="formularioUsuario.controls['email'].invalid && (formularioUsuario.controls['email'].dirty || formularioUsuario.controls['email'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['email'].errors?.['required']">
                El Email es requerido.
              </div>
              <div *ngIf="formularioUsuario.controls['email'].errors?.['email']">
                Email no válido.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="inputNombreLibreria" class="col-sm-1 col-form-label">Nombre Librería</label>
          <div class="col-sm-11">
            <input type="text" formControlName="nombreLibreria" class="form-control" id="inputNombreLibreria">
            <div *ngIf="formularioUsuario.controls['nombreLibreria'].invalid && (formularioUsuario.controls['nombreLibreria'].dirty || formularioUsuario.controls['nombreLibreria'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['nombreLibreria'].errors?.['required']">
                El Nombre Librería es requerido.
              </div>
            </div>
          </div>
        </div>    
        <div class="form-group row">
          <label for="inputNombreDueno" class="col-sm-1 col-form-label">Nombre Dueño</label>
          <div class="col-sm-11">
            <input type="text" formControlName="nombreDueno" class="form-control" id="inputNombreDueno">
            <div *ngIf="formularioUsuario.controls['nombreDueno'].invalid && (formularioUsuario.controls['nombreDueno'].dirty || formularioUsuario.controls['nombreDueno'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['nombreDueno'].errors?.['required']">
                El Nombre Dueño es requerido.
              </div>
            </div>
          </div>
        </div>
      
        <div class="form-group row">
          <label for="inputDireccion" class="col-sm-1 col-form-label">Dirección</label>
          <div class="col-sm-11">
            <input type="text" formControlName="direccion" class="form-control" id="inputDireccion">
            <div *ngIf="formularioUsuario.controls['direccion'].invalid && (formularioUsuario.controls['direccion'].dirty || formularioUsuario.controls['direccion'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['direccion'].errors?.['required']">
                La Dirección es requerida.
              </div>
            </div>
          </div>
        </div>
      
        <div class="form-group row border-bottom pb-3">
          <label for="inputCiudad" class="col-sm-1 col-form-label">Ciudad</label>
          <div class="col-sm-11">
            <input type="text" formControlName="ciudad" class="form-control" id="inputCiudad">
            <div *ngIf="formularioUsuario.controls['ciudad'].invalid && (formularioUsuario.controls['ciudad'].dirty || formularioUsuario.controls['ciudad'].touched)" class="text-danger">
              <div *ngIf="formularioUsuario.controls['ciudad'].errors?.['required']">
                La Ciudad es requerida.
              </div>
            </div>
          </div>
        </div>
      
        <button type="submit" (click)="saveUserDetailsData()" class="btn btn-dark mt-3">Guardar</button>
        <a class="btn btn-danger mt-3" (click)="editMode=false">Cancelar</a>
      </form>
</div>




